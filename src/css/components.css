/* === LOADING === */
.loader{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:12px}
.loader svg{width:36px;height:36px;stroke:var(--accent);fill:none;stroke-width:1.2;opacity:.4;animation:breathe 2.5s ease-in-out infinite}
@keyframes breathe{0%,100%{transform:scale(1);opacity:.4}50%{transform:scale(1.05);opacity:.6}}
.loader-text{font-family:var(--font-en);font-size:.78rem;color:var(--text-muted)}

/* Error state */
.error-msg{text-align:center;padding:40px 20px;color:var(--text-secondary);font-size:.88rem}
.error-msg button{margin-top:12px;background:var(--accent);color:var(--text-inverse);border:none;border-radius:20px;padding:8px 20px;font-family:var(--font-zh);font-size:.82rem;cursor:pointer}

/* === SCROLLBAR === */
::-webkit-scrollbar{width:3px}
::-webkit-scrollbar-track{background:transparent}
::-webkit-scrollbar-thumb{background:var(--border);border-radius:2px}

/* === ABOUT MODAL === */
.about-overlay{display:none;position:fixed;inset:0;z-index:500;background:rgba(0,0,0,0.45);backdrop-filter:blur(6px);-webkit-backdrop-filter:blur(6px);align-items:center;justify-content:center;padding:20px}
.about-overlay.show{display:flex;animation:aboutFadeIn .25s ease-out}
@keyframes aboutFadeIn{from{opacity:0}to{opacity:1}}
.about-modal{background:var(--bg);border:1px solid var(--border);border-radius:16px;box-shadow:0 8px 40px rgba(0,0,0,0.15);max-width:420px;width:100%;max-height:80vh;overflow-y:auto;padding:28px 24px;position:relative;animation:aboutSlideUp .3s cubic-bezier(.16,1,.3,1)}
@keyframes aboutSlideUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
.about-close{position:absolute;top:12px;right:12px;background:none;border:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:var(--text-muted);transition:all .2s}
.about-close:hover{color:var(--text);background:var(--accent-glow)}
.about-close svg{width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round}
.about-logo{display:flex;justify-content:center;margin-bottom:16px}
.about-logo svg{width:48px;height:48px}
.about-title{text-align:center;font-size:1.05rem;font-weight:600;color:var(--text);margin-bottom:4px}
.about-subtitle{text-align:center;font-family:var(--font-en);font-size:.72rem;color:var(--text-muted);letter-spacing:.08em;margin-bottom:20px}
.about-section{margin-bottom:16px}
.about-section-title{font-size:.78rem;font-weight:600;color:var(--accent);margin-bottom:6px;display:flex;align-items:center;gap:6px}
.about-section-title svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2}
.about-text{font-size:.8rem;color:var(--text-secondary);line-height:1.65}
.about-text a{color:var(--accent);text-decoration:none}
.about-text a:hover{text-decoration:underline}
.about-footer{text-align:center;font-size:.72rem;color:var(--text-muted);margin-top:20px;padding-top:16px;border-top:1px solid var(--border);line-height:1.5}

/* === PWA INSTALL BANNER === */
.install-banner{display:none;position:fixed;bottom:0;left:0;right:0;z-index:250;background:var(--bg);border-top:1px solid var(--border);box-shadow:0 -4px 20px rgba(0,0,0,0.08);padding:16px 16px calc(16px + var(--safe-bottom));animation:bannerSlide .4s cubic-bezier(.16,1,.3,1)}
.install-banner.show{display:block}
.install-banner.above-player{bottom:var(--player-h)}
@keyframes bannerSlide{from{transform:translateY(100%)}to{transform:translateY(0)}}
.install-inner{display:flex;align-items:center;gap:12px;max-width:500px;margin:0 auto}
.install-icon{width:40px;height:40px;border-radius:10px;background:var(--accent-glow);display:flex;align-items:center;justify-content:center;flex-shrink:0}
.install-icon svg{width:22px;height:22px;stroke:var(--accent);fill:none;stroke-width:1.8}
.install-text{flex:1;min-width:0}
.install-title{font-size:.84rem;font-weight:500;color:var(--text)}
.install-desc{font-size:.72rem;color:var(--text-secondary);margin-top:1px}
.install-actions{display:flex;gap:8px;flex-shrink:0}
.install-btn{-webkit-appearance:none;appearance:none;border:none;border-radius:20px;padding:8px 16px;font-family:var(--font-zh);font-size:.78rem;font-weight:500;cursor:pointer;transition:all .2s}
.install-btn-primary{background:var(--text);color:var(--text-inverse)}
.install-btn-primary:hover{opacity:.88}
.install-btn-dismiss{background:var(--bg-card);color:var(--text-secondary);border:1px solid var(--border)}

/* === iOS PWA GUIDE === */
.ios-guide{display:none;position:fixed;bottom:0;left:0;right:0;z-index:250;background:var(--bg);border-top:1px solid var(--border);box-shadow:0 -4px 20px rgba(0,0,0,0.08);padding:16px;padding-bottom:calc(16px + var(--safe-bottom));animation:bannerSlide .4s cubic-bezier(.16,1,.3,1)}
.ios-guide.show{display:block}
.ios-guide-inner{max-width:500px;margin:0 auto}
.ios-guide-title{font-size:.84rem;font-weight:500;color:var(--text);margin-bottom:8px;display:flex;align-items:center;justify-content:space-between}
.ios-guide-close{background:none;border:none;color:var(--text-muted);cursor:pointer;width:28px;height:28px;display:flex;align-items:center;justify-content:center;border-radius:50%;padding:0}
.ios-guide-close:hover{color:var(--text);background:var(--accent-glow)}
.ios-guide-close svg{width:14px;height:14px;stroke:currentColor;fill:none;stroke-width:2;stroke-linecap:round}
.ios-guide-steps{font-size:.78rem;color:var(--text-secondary);line-height:1.6}
.ios-guide-steps .ios-icon{display:inline-block;width:18px;height:18px;vertical-align:middle;margin:0 2px}
