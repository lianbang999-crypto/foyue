<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#FAF9F6">
<meta name="description" content="净土法音 - Pure Land Buddhist Dharma Audio Player. 南无阿弥陀佛 Namo Amitabha">
<meta property="og:type" content="website">
<meta property="og:title" content="净土法音 Pure Land Dharma Audio">
<meta property="og:description" content="佛教净土宗音频播放器，随时随地听经闻法，支持播放历史、断点续播、PWA 安装。">
<meta property="og:url" content="https://foyue.org/">
<meta property="og:site_name" content="净土法音">
<meta property="og:image" content="https://foyue.org/icons/icon-512.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="净土法音 Pure Land Dharma Audio">
<meta name="twitter:description" content="佛教净土宗音频播放器，随时随地听经闻法。">
<meta name="twitter:image" content="https://foyue.org/icons/icon-512.png">
<link rel="canonical" href="https://foyue.org/">
<title>净土法音</title>
<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/icons/icon-192.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://pub-05d3db9f377146d5bb450025565f7d1b.r2.dev">
<link rel="preconnect" href="https://pub-7a334cb009c14e10bbcfee54bb593a2a.r2.dev">
<link rel="preconnect" href="https://pub-7be57e30faae4f81bbd76b61006ac8fc.r2.dev">
<link rel="preconnect" href="https://pub-8c99ae05414d4672b1ec08a569ab3299.r2.dev">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;600&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "净土法音",
  "alternateName": "Pure Land Dharma Audio",
  "url": "https://foyue.org",
  "description": "佛教净土宗音频播放器，提供佛号念诵、法师讲经等音频内容的在线收听服务。",
  "applicationCategory": "MultimediaApplication",
  "operatingSystem": "Web",
  "inLanguage": ["zh-CN", "en", "fr"],
  "isAccessibleForFree": true,
  "publisher": {
    "@type": "Organization",
    "name": "净土法音",
    "url": "https://foyue.org"
  }
}
</script>
</head>

<body>

<div id="app">
  <!-- HEADER -->
  <header class="header">
    <nav class="nav">
      <div class="logo" aria-label="净土法音">
        <img src="/icons/logo.png" alt="净土法音" style="height:22px;width:auto;">
        <span class="logo-title">净土法音</span>
      </div>
      <span class="nav-center" id="navTitle" data-i18n="tab_lectures">听经台</span>
      <div class="nav-spacer"></div>
      <div class="nav-actions">
        <button class="btn-icon" id="btnSearch" aria-label="Search">
          <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><line x1="16.5" y1="16.5" x2="21" y2="21"/></svg>
        </button>
      </div>
    </nav>
    <div class="search-row" id="searchRow">
      <div class="search-box">
        <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><line x1="16.5" y1="16.5" x2="21" y2="21"/></svg>
        <input class="search-field" id="searchInput" type="text" placeholder="搜索..." data-i18n-placeholder="search_placeholder">
      </div>
    </div>
  </header>

  <!-- BOTTOM TAB BAR -->
  <div class="tab-bar" id="tabBar" role="tablist">
    <button class="tab active" role="tab" data-tab="home" aria-selected="true">
      <svg class="tab-icon" viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span data-i18n="tab_home">首页</span>
    </button>
    <button class="tab" role="tab" data-tab="youshengshu" aria-selected="false">
      <svg class="tab-icon" viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
      <span data-i18n="tab_audiobooks">有声书</span>
    </button>
    <div class="tab-center" id="tabCenter">
      <button class="center-play-btn" id="centerPlayBtn" aria-label="Play">
        <svg class="progress-ring" viewBox="0 0 56 56">
          <circle class="progress-ring-bg" cx="28" cy="28" r="25"/>
          <circle class="progress-ring-fill" id="centerRingFill" cx="28" cy="28" r="25"/>
        </svg>
        <svg class="center-play-icon" id="centerPlayIcon" viewBox="0 0 24 24"><polygon points="8,4 20,12 8,20"/></svg>
      </button>
    </div>
    <button class="tab" role="tab" data-tab="tingjingtai" aria-selected="false">
      <svg class="tab-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="9"/><path d="M12 3v9l6 3"/></svg>
      <span data-i18n="tab_lectures">听经台</span>
    </button>
    <button class="tab" role="tab" data-tab="mypage" aria-selected="false">
      <svg class="tab-icon" viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
      <span data-i18n="tab_my">我的</span>
    </button>
  </div>

  <!-- CONTENT -->
  <main class="content" id="contentArea">
    <div class="loader" id="loader">
      <img src="/icons/logo.png" style="width:60px;height:auto;opacity:.4;animation:breathe 2.5s ease-in-out infinite" alt="">
      <div class="loader-text">Loading...</div>
    </div>
  </main>

  <!-- PLAYER BAR -->
  <div class="player" id="playerBar">
    <div class="player-progress" id="miniProgress">
      <div class="player-progress-bg"><div class="player-progress-fill" id="miniProgressFill"></div></div>
    </div>
    <div class="player-row">
      <div class="player-info" id="playerInfo">
        <div class="player-track" id="playerTrack" data-i18n="not_playing">...</div>
        <div class="player-sub" id="playerSub"></div>
      </div>
      <div class="player-ctrls">
        <button class="ctrl" id="btnPrev" aria-label="Previous">
          <svg viewBox="0 0 24 24"><polygon points="19,20 9,12 19,4" fill="currentColor" stroke="none"/><line x1="5" y1="4" x2="5" y2="20" stroke-width="2"/></svg>
        </button>
        <button class="ctrl ctrl-play" id="btnPlay" aria-label="Play">
          <svg viewBox="0 0 24 24" id="playIcon"><polygon points="6,3 20,12 6,21"/></svg>
        </button>
        <button class="ctrl" id="btnNext" aria-label="Next">
          <svg viewBox="0 0 24 24"><polygon points="5,4 15,12 5,20" fill="currentColor" stroke="none"/><line x1="19" y1="4" x2="19" y2="20" stroke-width="2"/></svg>
        </button>
      </div>
    </div>
  </div>

  <!-- EXPANDED PLAYER -->
  <div class="expanded" id="expPlayer">
    <div class="exp-top">
      <button class="btn-icon" id="expCollapse" aria-label="Collapse">
        <svg viewBox="0 0 24 24"><polyline points="6,9 12,15 18,9"/></svg>
      </button>
      <span class="exp-label" data-i18n="now_playing">Now Playing</span>
      <div class="exp-top-right">
        <button class="btn-icon" id="expShare" aria-label="Share">
          <svg viewBox="0 0 24 24"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
        </button>
      </div>
    </div>
    <div class="exp-player-content" id="expPlayerContent">
      <div class="exp-dbl-indicator" id="expDblIndicator"></div>
      <div class="exp-series-info" id="expSeriesInfo">
        <img class="exp-series-icon" src="/icons/logo.png" style="width:52px;height:auto;opacity:.4;" alt="">
        <div class="exp-series-name" id="expSeriesName"></div>
        <div class="exp-series-speaker" id="expSeriesSpeaker"></div>
        <div class="exp-series-ep-count" id="expSeriesEpCount"></div>
      </div>
      <div class="exp-info">
        <div class="exp-title" id="expTitle" data-i18n="not_playing">...</div>
        <div class="exp-series" id="expSeries"></div>
      </div>
    </div>
    <div class="exp-bottom" id="expBottom">
      <div class="exp-progress">
        <div class="exp-progress-bar" id="expProgressBar">
          <div class="exp-progress-track">
            <div class="exp-progress-buffer" id="expBufferFill"></div>
            <div class="exp-progress-fill" id="expProgressFill"></div>
          </div>
          <div class="exp-progress-thumb" id="expProgressThumb"></div>
          <div class="exp-seek-tooltip" id="expSeekTooltip">0:00</div>
        </div>
        <div class="exp-time"><span id="expTimeCurr">0:00</span><span id="expTimeTotal">0:00</span></div>
      </div>
      <div class="exp-ctrls">
        <button class="ctrl ctrl-skip" id="expSkipBack" aria-label="Back 15s">
          <svg viewBox="0 0 24 24"><path d="M1 4v6h6" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/><path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span class="skip-label">15</span>
        </button>
        <button class="ctrl" id="expPrev" aria-label="Previous">
          <svg viewBox="0 0 24 24"><polygon points="19,20 9,12 19,4" fill="currentColor" stroke="none"/><line x1="5" y1="4" x2="5" y2="20" stroke-width="2"/></svg>
        </button>
        <button class="ctrl ctrl-play" id="expPlay" aria-label="Play">
          <svg viewBox="0 0 24 24" id="expPlayIcon"><polygon points="6,3 20,12 6,21"/></svg>
        </button>
        <button class="ctrl" id="expNext" aria-label="Next">
          <svg viewBox="0 0 24 24"><polygon points="5,4 15,12 5,20" fill="currentColor" stroke="none"/><line x1="19" y1="4" x2="19" y2="20" stroke-width="2"/></svg>
        </button>
        <button class="ctrl ctrl-skip" id="expSkipFwd" aria-label="Forward 15s">
          <svg viewBox="0 0 24 24"><path d="M23 4v6h-6" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/><path d="M20.49 15a9 9 0 1 1-2.13-9.36L23 10" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          <span class="skip-label">15</span>
        </button>
      </div>
      <div class="exp-secondary">
        <button class="ctrl active" id="expLoop" aria-label="Loop" title="Loop all">
          <svg viewBox="0 0 24 24"><polyline points="17,1 21,5 17,9"/><path d="M3 11V9a4 4 0 0 1 4-4h14"/><polyline points="7,23 3,19 7,15"/><path d="M21 13v2a4 4 0 0 1-4 4H3"/></svg>
        </button>
        <button class="ctrl speed-btn" id="expSpeed" aria-label="Speed">1.0x</button>
        <button class="ctrl" id="expTimer" aria-label="Sleep timer" style="position:relative">
          <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12,6 12,12 16,14"/></svg>
        </button>
        <button class="ctrl" id="expQueue" aria-label="Playlist">
          <svg viewBox="0 0 24 24"><line x1="4" y1="6" x2="20" y2="6"/><line x1="4" y1="12" x2="20" y2="12"/><line x1="4" y1="18" x2="14" y2="18"/></svg>
        </button>
      </div>
    </div>
    <div class="playlist-panel" id="playlistPanel">
      <div class="playlist-head">
        <span class="playlist-head-title" data-i18n="playlist">播放列表</span>
        <span class="playlist-count" id="plCount"></span>
      </div>
      <div class="playlist-items" id="plItems"></div>
    </div>
  </div>
</div>

<!-- ABOUT MODAL -->
<div class="about-overlay" id="aboutOverlay">
  <div class="about-modal">
    <button class="about-close" id="aboutClose"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
    <div class="about-logo">
      <img src="/icons/logo.png" style="width:64px;height:auto;" alt="净土法音">
    </div>
    <div class="about-title" data-i18n="about_app_name">净土法音</div>
    <div class="about-subtitle">Pureland Dharma Audio</div>
    <div class="about-section">
      <div class="about-section-title">
        <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
        <span data-i18n="about_us_title">关于我们</span>
      </div>
      <div class="about-text" data-i18n="about_us">本网站为莲友自发建立的公益平台，非东林寺官方站点。音频内容主要来源于庐山东林寺官网等官方渠道。为方便莲友随时随地听经闻法，特此整理收录。所有音频版权归原寺院及讲法法师所有。</div>
    </div>
    <div class="about-section">
      <div class="about-section-title">
        <svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        <span data-i18n="about_contact_title">联系方式</span>
      </div>
      <div class="about-text" data-i18n="about_contact_desc">如有版权问题、网站使用问题或建议反馈，欢迎来信告知。</div>
      <div class="about-text" style="margin-top:4px"><span data-i18n="about_contact_label">邮箱：</span><a href="mailto:lianbang999@qq.com">lianbang999@qq.com</a></div>
    </div>
    <div class="about-footer">&copy; 2026 净土法音 &middot; 愿一切众生同生极乐</div>
  </div>
</div>

<!-- HISTORY OVERLAY -->
<div class="history-overlay" id="historyOverlay">
  <div class="history-modal">
    <div class="history-head">
      <span class="history-head-title" data-i18n="my_history">播放历史</span>
      <button class="history-clear-btn" id="historyClearBtn" data-i18n="my_history_clear">清空</button>
    </div>
    <div class="history-list" id="historyList"></div>
  </div>
</div>

<!-- PWA INSTALL BANNER -->
<div class="install-banner" id="installBanner">
  <div class="install-inner">
    <div class="install-icon">
      <svg viewBox="0 0 24 24"><path d="M12 5v14"/><path d="M19 12l-7 7-7-7"/></svg>
    </div>
    <div class="install-text">
      <div class="install-title" data-i18n="install_title">安装净土法音</div>
      <div class="install-desc" data-i18n="install_desc">添加到主屏幕，随时听经闻法</div>
    </div>
    <div class="install-actions">
      <button class="install-btn install-btn-dismiss" id="installDismiss" data-i18n="install_later">稍后</button>
      <button class="install-btn install-btn-primary" id="installAccept" data-i18n="install_now">安装</button>
    </div>
  </div>
</div>

<!-- iOS PWA INSTALL GUIDE -->
<div class="ios-guide" id="iosGuide">
  <div class="ios-guide-inner">
    <div class="ios-guide-title">
      <span data-i18n="ios_guide_title">添加到主屏幕</span>
      <button class="ios-guide-close" id="iosGuideClose"><svg viewBox="0 0 24 24"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg></button>
    </div>
    <div class="ios-guide-steps" id="iosGuideSteps">
      点击底部 <svg class="ios-icon" viewBox="0 0 24 24"><path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8" stroke="currentColor" fill="none" stroke-width="1.8" stroke-linecap="round"/><polyline points="16,6 12,2 8,6" stroke="currentColor" fill="none" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/><line x1="12" y1="2" x2="12" y2="15" stroke="currentColor" fill="none" stroke-width="1.8" stroke-linecap="round"/></svg> 分享按钮，然后选择「添加到主屏幕」
    </div>
  </div>
</div>

<audio id="audioEl" preload="metadata"></audio>

<!-- JS Modules (order matters) -->
<script src="js/state.js"></script>
<script src="lang/zh.js"></script>
<script src="lang/en.js"></script>
<script src="lang/fr.js"></script>
<script src="js/i18n.js"></script>
<script src="js/data.js"></script>
<script src="js/history.js"></script>
<script src="js/player.js"></script>
<script src="js/player-ui.js"></script>
<script src="js/render.js"></script>
<script src="js/navigation.js"></script>
<script src="js/pwa.js"></script>
<script src="js/app.js"></script>

<!-- Cloudflare Web Analytics -->
<script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "f38885f2d3d74708bea94eb8c9c8531f"}'></script>
<!-- End Cloudflare Web Analytics -->
</body>
</html>
